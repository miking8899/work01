
? 3]玀　@s耀ddlmZddlmZdd䀀Zdd䀀Zdd	䀀Zd
d䀀Zdd䀀Zdd䀀Z	dd䀀Z
dd䀀Zdd䀀Zdd䀀ZddlmZdd䀀ZdS)退)ڌHttpResponse隨)چmodelscCsJtjddddddddd	d
ddddＯ}|j　td぀S)Nڄdateڈ20190101ڄopeng$@څcloseg%@ڄhighgffffff%@ڃlowgꙙ陙$@ڃvol銀ډstockCodeڈDemoCodezOK!)rډstockInfoڄsaver)ڇrequestr進堀D:\software\java web\清華出版社\PythonWorkSpace\MyDjangoDBProj\src\MyDjangoDBProj\DBUtil.pyڋinsertStocks6
rcCs退g}tjddddddddd	d
ddddＯ}|j|぀tjddddddddd	dddddＯ}|j|぀tjjj|぀td぀S)Nrrrg$@rg%@r	gffffff%@r
gꙙ陙$@rrrrZ20190102鋀gffffff&@gꙙ陙%@錀zOK!)rrچappendڇobjectsڋbulk_creater)rڍstockInfoListZstock1Zstock2rrrڏinsertMoreStocks66rcCs,tjjjdddd。j　td぀S)NrrrrzOK!)rrrچfilterچdeleter)rrrrڋdeleteStocks"rcCs8tjjjdddd。jdddd。td	぀S)
Nrrrrrrr鍀zOK!)rrrrچupdater)rrrrڋupdateStocks.r!cCsutjjj　}d}xP|D]H}|d|jd|jdt|j぀dt|j぀d7}q぀Wt	|ڀS)NڃzstockCode is:z	,date is:z	,open is:z
,close is:z<br>)
rrrڃallrrڈstrrrr)rrڅresponseڋstockrrr぀getAllStock s
Fr'cCs{tjjjdd、}d}xP|D]H}|d|jd|jdt|j぀dt|j぀d7}q%Wt	|ڒS)	Nrrr"zstockCode is:z	,date is:z	,open is:z
,close is:z<br>)
rrrrrrr$rrr)rrr%r&rrr぀getStockWithFilter's
Fr(cCs{tjjjdd、}d}xP|D]H}|d|jd|jdt|j぀dt|j぀d7}q%Wt	|ڄS)	NZdate__containsڈ2019r"zstockCode is:z	,date is:z	,open is:z
,close is:z<br>)
rrrrrrr$rrr)rrr%r&rrr぀demoLike.s
Fr*cCs{tjjjdd、}d}xP|D]H}|d|jd|jdt|j぀dt|j぀d7}q%Wt	|ڎS)	NZdate__startswithr)r"zstockCode is:z	,date is:z	,open is:z
,close is:z<br>)
rrrrrrr$rrr)rrr%r&rrr぀demoStartswith6s
Fr+cCs{tjjjdd、}d}xP|D]H}|d|jd|jdt|j぀dt|j぀d7}q%Wt	|ڌS)	NZdate__endswithr)r"zstockCode is:z	,date is:z	,open is:z
,close is:z<br>)
rrrrrrr$rrr)rrr%r&rrrကdemoEndswith>s
Fr,cCs぀tjjjdddd。}d}xP|D]H}|d|jd|jdt|j぀d	t|j぀d
7}q+Wt	|ډS)NZ	open__gte鈀Z	open__lterr"zstockCode is:z	,date is:z	,open is:z
,close is:z<br>)
rrrrrrr$rrr)rrr%r&rrrڊdemoRangeFs
Fr.)぀connectionc
CsAtj　}z|jd぀|j　}Wd|j　Xt|چS)Nzselect * from stockInfo)r/ڇcursorڈexecuteچfetchallrr)rr0ڇresultrrrڋdemoSQLQsr4N)ډdjango.httprr"rrrrr!r'r(r*r+r,r.ڈdjango.dbr/r4rrrrڈ<module>s	
